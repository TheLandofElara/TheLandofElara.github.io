<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RoFleet - Vote for Excellence</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <style>
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #1f1f1f 0%, #000000 100%);
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(255, 255, 255, 0.1);
        }
        .btn-pulse {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7); }
            50% { box-shadow: 0 0 0 10px rgba(255, 255, 255, 0); }
        }
        .nav-link {
            transition: all 0.3s ease;
            position: relative;
        }
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -5px;
            left: 50%;
            background-color: white;
            transition: all 0.3s ease;
            transform: translateX(-50%);
        }
        .nav-link:hover::after {
            width: 100%;
        }
        .voting-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .progress-bar {
            background: linear-gradient(90deg, #ffffff 0%, #cccccc 100%);
        }
    </style>
</head>
<body class="bg-black text-white min-h-screen">
    <!-- Navigation -->
    <nav class="bg-gray-900 shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <div class="text-2xl font-bold text-white">
                        <span class="text-white">Ro</span><span class="text-gray-400">Fleet</span>
                    </div>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#" onclick="showPage('home')" class="nav-link text-white hover:text-gray-300 px-3 py-2 text-sm font-medium">Home</a>
                        <a href="#" onclick="showPage('voting')" class="nav-link text-white hover:text-gray-300 px-3 py-2 text-sm font-medium">Vote</a>
                        <a href="#" onclick="showPage('categories')" class="nav-link text-white hover:text-gray-300 px-3 py-2 text-sm font-medium">Categories</a>
                        <a href="#" onclick="showPage('about')" class="nav-link text-white hover:text-gray-300 px-3 py-2 text-sm font-medium">About</a>
                    </div>
                </div>
                <div class="md:hidden">
                    <button onclick="toggleMobileMenu()" class="text-white hover:text-gray-300">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        <div id="mobile-menu" class="md:hidden hidden">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-gray-800">
                <a href="#" onclick="showPage('home')" class="block text-white hover:text-gray-300 px-3 py-2 text-base font-medium">Home</a>
                <a href="#" onclick="showPage('voting')" class="block text-white hover:text-gray-300 px-3 py-2 text-base font-medium">Vote</a>
                <a href="#" onclick="showPage('categories')" class="block text-white hover:text-gray-300 px-3 py-2 text-base font-medium">Categories</a>
                <a href="#" onclick="showPage('about')" class="block text-white hover:text-gray-300 px-3 py-2 text-base font-medium">About</a>
            </div>
        </div>
    </nav>

    <!-- Home Page -->
    <div id="home-page" class="page">
        <div class="gradient-bg min-h-screen">
            <div class="container mx-auto px-4 py-20">
                <div class="text-center animate__animated animate__fadeInUp">
                    <h1 class="text-6xl md:text-8xl font-bold mb-6">
                        <span class="text-white">Ro</span><span class="text-gray-400">Fleet</span>
                    </h1>
                    <p class="text-xl md:text-2xl text-gray-300 mb-8 max-w-3xl mx-auto">
                        Vote for Excellence in Bus Transportation Services
                    </p>
                    <p class="text-lg text-gray-400 mb-12 max-w-2xl mx-auto">
                        Join the RoFleet community in recognizing outstanding bus companies across multiple categories. Your voice matters in shaping the future of transportation.
                    </p>
                    <button onclick="showPage('voting')" class="bg-white text-black px-8 py-4 rounded-lg font-semibold text-lg hover:bg-gray-200 transition-all duration-300 btn-pulse animate__animated animate__pulse animate__infinite">
                        Start Voting Now
                    </button>
                </div>
                
                <div class="mt-20 grid md:grid-cols-3 gap-8 animate__animated animate__fadeInUp animate__delay-1s">
                    <div class="voting-card p-6 rounded-lg card-hover">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4">
                                <svg class="w-8 h-8 text-black" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                            <h3 class="text-xl font-semibold mb-2">Secure Voting</h3>
                            <p class="text-gray-400">One vote per person per category ensures fair and accurate results.</p>
                        </div>
                    </div>
                    
                    <div class="voting-card p-6 rounded-lg card-hover">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4">
                                <svg class="w-8 h-8 text-black" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"></path>
                                </svg>
                            </div>
                            <h3 class="text-xl font-semibold mb-2">Community Driven</h3>
                            <p class="text-gray-400">Join thousands of users in recognizing excellence in transportation.</p>
                        </div>
                    </div>
                    
                    <div class="voting-card p-6 rounded-lg card-hover">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4">
                                <svg class="w-8 h-8 text-black" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"></path>
                                </svg>
                            </div>
                            <h3 class="text-xl font-semibold mb-2">Multiple Categories</h3>
                            <p class="text-gray-400">Vote across various categories to recognize different aspects of excellence.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Voting Page -->
    <div id="voting-page" class="page hidden">
        <div class="min-h-screen bg-black py-12">
            <div class="container mx-auto px-4">
                <div class="text-center mb-12 animate__animated animate__fadeInDown">
                    <h1 class="text-4xl md:text-6xl font-bold mb-4">Cast Your Vote</h1>
                    <p class="text-xl text-gray-400">Select a category and vote for your favorite bus company</p>
                </div>

                <div class="max-w-4xl mx-auto">
                    <!-- Category Selection -->
                    <div class="mb-8 animate__animated animate__fadeInUp">
                        <label class="block text-lg font-semibold mb-4">Select Category:</label>
                        <select id="category-select" onchange="updateCompanyList()" class="w-full p-4 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-white transition-colors">
                            <option value="">Choose a category...</option>
                            <option value="best-service">Best Customer Service</option>
                            <option value="most-reliable">Most Reliable</option>
                            <option value="best-value">Best Value for Money</option>
                            <option value="cleanest-buses">Cleanest Buses</option>
                            <option value="best-drivers">Best Drivers</option>
                            <option value="most-comfortable">Most Comfortable</option>
                            <option value="best-routes">Best Route Coverage</option>
                            <option value="most-punctual">Most Punctual</option>
                        </select>
                    </div>

                    <!-- Company Selection -->
                    <div id="company-selection" class="mb-8 hidden animate__animated animate__fadeInUp">
                        <label class="block text-lg font-semibold mb-4">Select Bus Company:</label>
                        <div id="company-list" class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <!-- Companies will be dynamically added here -->
                        </div>
                    </div>

                    <!-- Vote Button -->
                    <div id="vote-section" class="text-center hidden animate__animated animate__fadeInUp">
                        <button id="submit-vote" onclick="submitVote()" class="bg-white text-black px-8 py-4 rounded-lg font-semibold text-lg hover:bg-gray-200 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed">
                            Submit Vote
                        </button>
                        <p class="text-sm text-gray-400 mt-4">You can only vote once per category</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Categories Page -->
    <div id="categories-page" class="page hidden">
        <div class="min-h-screen bg-black py-12">
            <div class="container mx-auto px-4">
                <div class="text-center mb-12 animate__animated animate__fadeInDown">
                    <h1 class="text-4xl md:text-6xl font-bold mb-4">Voting Categories</h1>
                    <p class="text-xl text-gray-400">Explore all available voting categories</p>
                </div>

                <div class="max-w-6xl mx-auto grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="voting-card p-6 rounded-lg card-hover animate__animated animate__fadeInUp">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4">
                                <svg class="w-8 h-8 text-black" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M18 3a1 1 0 00-1.196-.98l-10 2A1 1 0 006 5v9.114A4.369 4.369 0 005 14c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V7.82l8-1.6v5.894A4.37 4.37 0 0015 12c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V3z"></path>
                                </svg>
                            </div>
                            <h3 class="text-lg font-semibold mb-2">Best Customer Service</h3>
                            <p class="text-gray-400 text-sm">Vote for companies with exceptional customer support and assistance.</p>
                        </div>
                    </div>

                    <div class="voting-card p-6 rounded-lg card-hover animate__animated animate__fadeInUp animate__delay-1s">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4">
                                <svg class="w-8 h-8 text-black" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                                </svg>
                            </div>
                            <h3 class="text-lg font-semibold mb-2">Most Reliable</h3>
                            <p class="text-gray-400 text-sm">Recognize companies with consistent and dependable service.</p>
                        </div>
                    </div>

                    <div class="voting-card p-6 rounded-lg card-hover animate__animated animate__fadeInUp animate__delay-2s">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4">
                                <svg class="w-8 h-8 text-black" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"></path>
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z" clip-rule="evenodd"></path>
                                </svg>
                            </div>
                            <h3 class="text-lg font-semibold mb-2">Best Value for Money</h3>
                            <p class="text-gray-400 text-sm">Vote for companies offering the best price-to-quality ratio.</p>
                        </div>
                    </div>

                    <div class="voting-card p-6 rounded-lg card-hover animate__animated animate__fadeInUp animate__delay-3s">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4">
                                <svg class="w-8 h-8 text-black" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                                </svg>
                            </div>
                            <h3 class="text-lg font-semibold mb-2">Cleanest Buses</h3>
                            <p class="text-gray-400 text-sm">Recognize companies maintaining the highest cleanliness standards.</p>
                        </div>
                    </div>

                    <div class="voting-card p-6 rounded-lg card-hover animate__animated animate__fadeInUp animate__delay-4s">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4">
                                <svg class="w-8 h-8 text-black" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path>
                                </svg>
                            </div>
                            <h3 class="text-lg font-semibold mb-2">Best Drivers</h3>
                            <p class="text-gray-400 text-sm">Vote for companies with the most professional and skilled drivers.</p>
                        </div>
                    </div>

                    <div class="voting-card p-6 rounded-lg card-hover animate__animated animate__fadeInUp animate__delay-5s">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4">
                                <svg class="w-8 h-8 text-black" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                    <path fill-rule="evenodd" d="M4 5a2 2 0 012-2h8a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 1a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                                </svg>
                            </div>
                            <h3 class="text-lg font-semibold mb-2">Most Comfortable</h3>
                            <p class="text-gray-400 text-sm">Vote for companies providing the most comfortable travel experience.</p>
                        </div>
                    </div>

                    <div class="voting-card p-6 rounded-lg card-hover animate__animated animate__fadeInUp animate__delay-6s">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4">
                                <svg class="w-8 h-8 text-black" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path>
                                </svg>
                            </div>
                            <h3 class="text-lg font-semibold mb-2">Best Route Coverage</h3>
                            <p class="text-gray-400 text-sm">Recognize companies with the most comprehensive route networks.</p>
                        </div>
                    </div>

                    <div class="voting-card p-6 rounded-lg card-hover animate__animated animate__fadeInUp animate__delay-7s">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4">
                                <svg class="w-8 h-8 text-black" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                                </svg>
                            </div>
                            <h3 class="text-lg font-semibold mb-2">Most Punctual</h3>
                            <p class="text-gray-400 text-sm">Vote for companies with the best on-time performance records.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- About Page -->
    <div id="about-page" class="page hidden">
        <div class="min-h-screen bg-black py-12">
            <div class="container mx-auto px-4">
                <div class="max-w-4xl mx-auto">
                    <div class="text-center mb-12 animate__animated animate__fadeInDown">
                        <h1 class="text-4xl md:text-6xl font-bold mb-4">About RoFleet</h1>
                        <p class="text-xl text-gray-400">Empowering communities through democratic transportation evaluation</p>
                    </div>

                    <div class="space-y-8 animate__animated animate__fadeInUp">
                        <div class="voting-card p-8 rounded-lg">
                            <h2 class="text-2xl font-semibold mb-4">Our Mission</h2>
                            <p class="text-gray-300 leading-relaxed">
                                RoFleet is dedicated to improving public transportation by giving communities a voice in recognizing excellence. 
                                Through our democratic voting platform, we aim to highlight bus companies that go above and beyond in serving their passengers, 
                                encouraging continuous improvement across the industry.
                            </p>
                        </div>

                        <div class="voting-card p-8 rounded-lg">
                            <h2 class="text-2xl font-semibold mb-4">How It Works</h2>
                            <div class="space-y-4 text-gray-300">
                                <div class="flex items-start space-x-3">
                                    <div class="w-6 h-6 bg-white rounded-full flex-shrink-0 flex items-center justify-center mt-1">
                                        <span class="text-black text-sm font-bold">1</span>
                                    </div>
                                    <p>Choose from our comprehensive list of voting categories, each designed to evaluate different aspects of bus service quality.</p>
                                </div>
                                <div class="flex items-start space-x-3">
                                    <div class="w-6 h-6 bg-white rounded-full flex-shrink-0 flex items-center justify-center mt-1">
                                        <span class="text-black text-sm font-bold">2</span>
                                    </div>
                                    <p>Select your preferred bus company from our extensive database of transportation providers.</p>
                                </div>
                                <div class="flex items-start space-x-3">
                                    <div class="w-6 h-6 bg-white rounded-full flex-shrink-0 flex items-center justify-center mt-1">
                                        <span class="text-black text-sm font-bold">3</span>
                                    </div>
                                    <p>Cast your vote and contribute to the collective voice of the transportation community.</p>
                                </div>
                            </div>
                        </div>

                        <div class="voting-card p-8 rounded-lg">
                            <h2 class="text-2xl font-semibold mb-4">Fair Voting Principles</h2>
                            <p class="text-gray-300 leading-relaxed">
                                We maintain the integrity of our voting system through strict one-vote-per-person-per-category policies. 
                                This ensures that every voice is heard equally and that results truly reflect community sentiment. 
                                Our secure voting mechanism prevents duplicate votes while maintaining user privacy.
                            </p>
                        </div>

                        <div class="voting-card p-8 rounded-lg">
                            <h2 class="text-2xl font-semibold mb-4">Community Impact</h2>
                            <p class="text-gray-300 leading-relaxed">
                                Your participation in RoFleet helps create a transparent ecosystem where excellence is recognized and rewarded. 
                                Bus companies can use this feedback to understand community preferences and improve their services accordingly, 
                                ultimately benefiting all passengers through enhanced transportation experiences.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="success-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-gray-800 p-8 rounded-lg max-w-md mx-4 animate__animated animate__zoomIn">
            <div class="text-center">
                <div class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </div>
                <h3 class="text-xl font-semibold text-white mb-2">Vote Submitted Successfully!</h3>
                <p class="text-gray-300 mb-4">Thank you for participating in RoFleet voting.</p>
                <button onclick="closeSuccessModal()" class="bg-white text-black px-6 py-2 rounded-lg font-semibold hover:bg-gray-200 transition-colors">
                    Continue
                </button>
            </div>
        </div>
    </div>

    <!-- Error Modal -->
    <div id="error-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-gray-800 p-8 rounded-lg max-w-md mx-4 animate__animated animate__zoomIn">
            <div class="text-center">
                <div class="w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </div>
                <h3 class="text-xl font-semibold text-white mb-2">Unable to Submit Vote</h3>
                <p id="error-message" class="text-gray-300 mb-4">You have already voted in this category.</p>
                <button onclick="closeErrorModal()" class="bg-white text-black px-6 py-2 rounded-lg font-semibold hover:bg-gray-200 transition-colors">
                    Okay
                </button>
            </div>
        </div>
    </div>

    <script>
        // Configuration
        const WEBHOOK_URL = 'https://discord.com/api/webhooks/1391946446617579654/9FevCQ215yfDXox2KVtAMyjELhfzlRKi0KUl1DQPbwsM6bgshqNnKWQKm9jE1sl6TAgR'; // Replace with your Discord webhook URL
        
        // Default bus companies - can be extended dynamically
        const busCompanies = [
            'Metro Transit Express',
            'CityLine Bus Services',
            'Regional Transport Co.',
            'Urban Express Lines',
            'Capital City Transit',
            'Valley View Transportation',
            'Coastal Bus Network',
            'Mountain Route Express',
            'Downtown Shuttle Services',
            'Airport Connection Lines',
            'Suburban Link Transit',
            'Cross-Town Express',
            'Harbor City Buses',
            'Eastside Transportation',
            'Westgate Bus Lines',
            'Northpoint Transit',
            'Southbound Express',
            'Central Station Lines',
            'Riverside Transportation',
            'Hillcrest Bus Services'
        ];

        let selectedCategory = '';
        let selectedCompany = '';

        // Page navigation
        function showPage(pageName) {
            // Hide all pages
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => {
                page.classList.add('hidden');
            });
            
            // Show selected page
            const targetPage = document.getElementById(pageName + '-page');
            if (targetPage) {
                targetPage.classList.remove('hidden');
                targetPage.classList.add('animate__animated', 'animate__fadeIn');
            }
            
            // Close mobile menu if open
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.add('hidden');
        }

        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('hidden');
        }

        // Voting functionality
        function updateCompanyList() {
            const categorySelect = document.getElementById('category-select');
            const companySelection = document.getElementById('company-selection');
            const companyList = document.getElementById('company-list');
            const voteSection = document.getElementById('vote-section');
            
            selectedCategory = categorySelect.value;
            
            if (selectedCategory) {
                // Check if user has already voted in this category
                const votedCategories = getVotedCategories();
                if (votedCategories.includes(selectedCategory)) {
                    showErrorModal('You have already voted in this category. You can only vote once per category.');
                    categorySelect.value = '';
                    companySelection.classList.add('hidden');
                    voteSection.classList.add('hidden');
                    return;
                }
                
                // Show company selection
                companySelection.classList.remove('hidden');
                companySelection.classList.add('animate__animated', 'animate__fadeInUp');
                
                // Clear previous companies
                companyList.innerHTML = '';
                
                // Add companies
                busCompanies.forEach((company, index) => {
                    const companyCard = document.createElement('div');
                    companyCard.className = 'voting-card p-4 rounded-lg cursor-pointer transition-all duration-300 hover:bg-white hover:bg-opacity-10 company-card animate__animated animate__fadeInUp';
                    companyCard.style.animationDelay = `${index * 0.1}s`;
                    companyCard.innerHTML = `
                        <div class="text-center">
                            <div class="w-12 h-12 bg-white rounded-full flex items-center justify-center mx-auto mb-3">
                                <svg class="w-6 h-6 text-black" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"></path>
                                    <path d="M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1V5a1 1 0 00-1-1H3zM14 7a1 1 0 00-1 1v6.05A2.5 2.5 0 0115.95 16H17a1 1 0 001-1V8a1 1 0 00-1-1h-3z"></path>
                                </svg>
                            </div>
                            <h4 class="font-semibold text-sm">${company}</h4>
                        </div>
                    `;
                    companyCard.onclick = () => selectCompany(company, companyCard);
                    companyList.appendChild(companyCard);
                });
                
                // Hide vote section initially
                voteSection.classList.add('hidden');
            } else {
                companySelection.classList.add('hidden');
                voteSection.classList.add('hidden');
            }
        }

        function selectCompany(company, cardElement) {
            // Remove selection from all cards
            const allCards = document.querySelectorAll('.company-card');
            allCards.forEach(card => {
                card.classList.remove('bg-white', 'text-black');
            });
            
            // Select current card
            cardElement.classList.add('bg-white', 'text-black');
            selectedCompany = company;
            
            // Show vote section
            const voteSection = document.getElementById('vote-section');
            voteSection.classList.remove('hidden');
            voteSection.classList.add('animate__animated', 'animate__fadeInUp');
        }

        function submitVote() {
            if (!selectedCategory || !selectedCompany) {
                showErrorModal('Please select both a category and a company before voting.');
                return;
            }
            
            // Check if user has already voted in this category
            const votedCategories = getVotedCategories();
            if (votedCategories.includes(selectedCategory)) {
                showErrorModal('You have already voted in this category. You can only vote once per category.');
                return;
            }
            
            // Disable vote button
            const submitButton = document.getElementById('submit-vote');
            submitButton.disabled = true;
            submitButton.textContent = 'Submitting...';
            
            // Prepare webhook data
            const voteData = {
                embeds: [{
                    title: 'ðŸ—³ï¸ New RoFleet Vote Submitted',
                    color: 16777215, // White color
                    fields: [
                        {
                            name: 'ðŸ“Š Category',
                            value: getCategoryDisplayName(selectedCategory),
                            inline: true
                        },
                        {
                            name: 'ðŸšŒ Bus Company',
                            value: selectedCompany,
                            inline: true
                        },
                        {
                            name: 'â° Timestamp',
                            value: new Date().toLocaleString(),
                            inline: false
                        }
                    ],
                    footer: {
                        text: 'RoFleet Voting System'
                    },
                    timestamp: new Date().toISOString()
                }]
            };
            
            // Send to webhook
            fetch(WEBHOOK_URL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(voteData)
            })
            .then(response => {
                if (response.ok) {
                    // Save vote to prevent duplicate voting
                    saveVote(selectedCategory);
                    
                    // Show success modal
                    showSuccessModal();
                    
                    // Reset form
                    resetVotingForm();
                } else {
                    throw new Error('Network response was not ok');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                showErrorModal('Failed to submit vote. Please try again later.');
                
                // Re-enable button
                submitButton.disabled = false;
                submitButton.textContent = 'Submit Vote';
            });
        }

        function getCategoryDisplayName(category) {
            const categoryNames = {
                'best-service': 'Best Customer Service',
                'most-reliable': 'Most Reliable',
                'best-value': 'Best Value for Money',
                'cleanest-buses': 'Cleanest Buses',
                'best-drivers': 'Best Drivers',
                'most-comfortable': 'Most Comfortable',
                'best-routes': 'Best Route Coverage',
                'most-punctual': 'Most Punctual'
            };
            return categoryNames[category] || category;
        }

        function saveVote(category) {
            let votedCategories = getVotedCategories();
            if (!votedCategories.includes(category)) {
                votedCategories.push(category);
                setCookie('rofleet_voted_categories', JSON.stringify(votedCategories), 365);
            }
        }

        function getVotedCategories() {
            const cookie = getCookie('rofleet_voted_categories');
            return cookie ? JSON.parse(cookie) : [];
        }

        function resetVotingForm() {
            selectedCategory = '';
            selectedCompany = '';
            
            document.getElementById('category-select').value = '';
            document.getElementById('company-selection').classList.add('hidden');
            document.getElementById('vote-section').classList.add('hidden');
            
            const submitButton = document.getElementById('submit-vote');
            submitButton.disabled = false;
            submitButton.textContent = 'Submit Vote';
        }

        // Modal functions
        function showSuccessModal() {
            const modal = document.getElementById('success-modal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function closeSuccessModal() {
            const modal = document.getElementById('success-modal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        function showErrorModal(message) {
            const modal = document.getElementById('error-modal');
            const messageElement = document.getElementById('error-message');
            messageElement.textContent = message;
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function closeErrorModal() {
            const modal = document.getElementById('error-modal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        // Cookie utilities
        function setCookie(name, value, days) {
            const expires = new Date();
            expires.setTime(expires.getTime() + (days * 24 * 60 * 60 * 1000));
            document.cookie = `${name}=${value};expires=${expires.toUTCString()};path=/`;
        }

        function getCookie(name) {
            const nameEQ = name + "=";
            const ca = document.cookie.split(';');
            for (let i = 0; i < ca.length; i++) {
                let c = ca[i];
                while (c.charAt(0) === ' ') c = c.substring(1, c.length);
                if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);
            }
            return null;
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            showPage('home');
        });

        // Close modals when clicking outside
        window.addEventListener('click', function(event) {
            const successModal = document.getElementById('success-modal');
            const errorModal = document.getElementById('error-modal');
            
            if (event.target === successModal) {
                closeSuccessModal();
            }
            if (event.target === errorModal) {
                closeErrorModal();
            }
        });
    </script>
</body>
</html>
